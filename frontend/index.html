<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Wind Airways - Virtual Airline homologada para IVAO e VATSIM. Experimente a avia√ß√£o virtual de forma profissional.">
    <meta name="keywords" content="avia√ß√£o virtual, virtual airline, IVAO, VATSIM, simulador de voo">
    <title>Wind Airways - Virtual Airline</title>

    <!-- Estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body class="gradient-bg min-h-full">
    <!-- Elementos decorativos de fundo -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="cloud w-20 h-10 top-20 -left-20" style="animation-delay: 0s;"></div>
        <div class="cloud w-16 h-8 top-40 -left-16" style="animation-delay: 5s;"></div>
        <div class="cloud w-24 h-12 top-60 -left-24" style="animation-delay: 10s;"></div>
        <div class="trail top-32 left-0" style="animation-delay: 2s;"></div>
        <div class="trail top-80 left-0" style="animation-delay: 6s;"></div>
    </div>

    <!-- Header -->
    <header class="relative z-10 bg-white/80 backdrop-blur-md shadow-lg sticky top-0">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">

                <div class="flex items-center space-x-3">
                    <img src="./assets/img/wind.png" alt="Wind Airways Logo" class="w-12 h-12 rounded-lg shadow-md">
                </div>

                <div class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link text-slate-700 hover:text-sky-600 font-medium">Home</a>
                    <a href="#fleet" class="nav-link text-slate-700 hover:text-sky-600 font-medium">Frota</a>
                    <a href="pages/pilots.html"
                        class="nav-link text-slate-700 hover:text-sky-600 font-medium">Pilotos</a>
                    <a href="#statistics"
                        class="nav-link text-slate-700 hover:text-sky-600 font-medium">Estat√≠sticas</a>
                    <a href="./pages/Sobre.html" class="nav-link text-slate-700 hover:text-sky-600 font-medium">Sobre
                        N√≥s</a>
                    <a href="#livemap" class="nav-link text-slate-700 hover:text-sky-600 font-medium">Mapa ao Vivo</a>
                </div>

                <a href="https://newsky.app/airline/win/join" target="_blank" rel="noopener noreferrer"
                    class="bg-gradient-to-r from-sky-500 to-blue-600 text-white px-6 py-2 rounded-full hover:from-sky-600 hover:to-blue-700 transition-all duration-300 font-medium shadow-lg">
                    Cadastrar / Entrar
                </a>
            </div>
        </nav>
    </header>

 <!-- Hero Section -->
<section id="home" class="relative min-h-[70vh] flex items-center justify-center py-20 overflow-hidden">
  <!-- BG image -->
  <div
    class="absolute inset-0 bg-center bg-cover"
    style="background-image: url('assets/img/hero.png');">
  </div>

  <!-- Overlay para contraste -->
  <div class="absolute inset-0 bg-slate-900/30"></div>

  <!-- Conte√∫do -->
  <div class="relative z-10 container mx-auto px-6 text-center">
    <div class="slide-in">
      <h1 class="text-5xl md:text-7xl font-bold text-white drop-shadow mb-6">
        Bem-vindo √† <span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-300 to-blue-400">Wind</span>
      </h1>
      <p class="text-xl text-white/90 mb-12 max-w-3xl mx-auto">
        Experimente a avia√ß√£o virtual de forma profissional com nossa frota moderna e comunidade dedicada.
        Em breve Homologada para IVAO e VATSIM.
      </p>
    </div>

    
  </div>
</section>

    <!-- Statistics Section -->
    <section id="statistics" class="py-20 bg-white/50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-slate-800 mb-4">Estat√≠sticas da Companhia</h2>
                <p class="text-xl text-slate-600">N√∫meros que demonstram nossa excel√™ncia operacional</p>
            </div>

            <!-- Filtro de per√≠odo -->
            <div class="bg-white rounded-2xl p-4 md:p-6 shadow-lg mb-10">
                <div class="flex flex-col md:flex-row items-stretch md:items-end md:space-x-4 space-y-3 md:space-y-0">
                    <div class="flex-1">
                        <label for="statsPeriod" class="block text-sm font-medium text-slate-600 mb-1">Per√≠odo</label>
                        <select id="statsPeriod"
                            class="w-full rounded-xl border-slate-300 focus:ring-sky-500 focus:border-sky-500">
                            <option value="this_month" selected>Este m√™s</option>
                            <option value="last_month">√öltimo m√™s</option>
                            <option value="this_year">Ano atual</option>
                            <option value="all_time">Hist√≥rico (todos os voos)</option>
                            <option value="custom">Intervalo personalizado‚Ä¶</option>
                        </select>
                    </div>

                    <div id="customRange" class="grid grid-cols-1 md:grid-cols-2 gap-3 flex-1 hidden">
                        <div>
                            <label for="dateFrom" class="block text-sm font-medium text-slate-600 mb-1">De</label>
                            <input id="dateFrom" type="date"
                                class="w-full rounded-xl border-slate-300 focus:ring-sky-500 focus:border-sky-500">
                        </div>
                        <div>
                            <label for="dateTo" class="block text-sm font-medium text-slate-600 mb-1">At√©</label>
                            <input id="dateTo" type="date"
                                class="w-full rounded-xl border-slate-300 focus:ring-sky-500 focus:border-sky-500">
                        </div>
                    </div>

                    <button id="applyPeriod"
                        class="inline-flex items-center justify-center bg-gradient-to-r from-sky-500 to-blue-600 text-white px-5 py-2.5 rounded-xl hover:from-sky-600 hover:to-blue-700 transition-all shadow-md">
                        <i class="fas fa-rotate mr-2"></i> Aplicar
                    </button>
                </div>
            </div>

             <!-- GRID: Per√≠odo selecionado -->
            <div class="mb-3">
                <h3 id="periodLabel" class="text-lg font-semibold text-slate-700">
                    Estat√≠sticas do per√≠odo: <span class="text-sky-700">Este m√™s</span>
                </h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Total Flights (period) -->
                <div class="bg-white rounded-2xl p-8 shadow-lg text-center">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-calendar-check text-white text-2xl"></i>
                    </div>
                    <div class="text-4xl font-extrabold text-slate-800 leading-none stats-counter"
                        id="totalFlightsPeriod">0</div>
                    <p class="text-slate-600 font-medium">Voos no per√≠odo</p>
                </div>

                <!-- Flight Hours (period) -->
                <div class="bg-white rounded-2xl p-8 shadow-lg text-center">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-stopwatch text-white text-2xl"></i>
                    </div>
                    <div class="text-4xl font-extrabold text-slate-800 leading-none stats-counter"
                        id="flightHoursPeriod">0</div>
                    <p class="text-slate-600 font-medium">Horas no per√≠odo</p>
                </div>

                <!-- Active Pilots (period) -->
                <div class="bg-white rounded-2xl p-8 shadow-lg text-center">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-user-check text-white text-2xl"></i>
                    </div>
                    <div class="text-4xl font-extrabold text-slate-800 leading-none stats-counter"
                        id="activePilotsPeriod">0</div>
                    <p class="text-slate-600 font-medium">Pilotos no per√≠odo</p>
                </div>

                <!-- Routes (period) -->
                <div class="bg-white rounded-2xl p-8 shadow-lg text-center">
                    <div
                        class="w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-route text-white text-2xl"></i>
                    </div>
                    <div class="text-4xl font-extrabold text-slate-800 leading-none stats-counter" id="routesPeriod">0
                    </div>
                    <p class="text-slate-600 font-medium">Rotas no per√≠odo</p>
                </div>
            </div>
        </div>

        <!-- Script espec√≠fico das estat√≠sticas (usa /api/newsky/flights/bydate no backend) -->
        <script>
            // ===== CONFIG =====
            const PROXY_BYDATE = "/api/newsky/flights/bydate"; // seu backend deve repassar para https://newsky.app/api/airline-api/flights/bydate com o Bearer token

            // ===== HELPERS DE DATA =====
            const DAY_MS = 24 * 60 * 60 * 1000;

            function startOfThisMonth() {
                const now = new Date();
                return new Date(now.getFullYear(), now.getMonth(), 1, 0, 0, 0);
            }
            function startOfLastMonth() {
                const now = new Date();
                return new Date(now.getFullYear(), now.getMonth() - 1, 1, 0, 0, 0);
            }
            function endOfLastMonth() {
                const s = startOfThisMonth();
                return new Date(s.getFullYear(), s.getMonth(), 0, 23, 59, 59, 999);
            }
            function startOfThisYear() {
                const now = new Date();
                return new Date(now.getFullYear(), 0, 1, 0, 0, 0);
            }
            function toDateOnlyString(d) {
                const dt = new Date(d);
                const y = dt.getFullYear();
                const m = String(dt.getMonth() + 1).padStart(2, '0');
                const da = String(dt.getDate()).padStart(2, '0');
                return `${y}-${m}-${da}`;
            }

            // ===== EXTRA√á√ÉO E C√ÅLCULOS =====
            // Chave de rota mais tolerante
            function routeKey(f) {
                const dep =
                    f?.departure?.icao || f?.dep?.icao || f?.departureIcao || f?.depIcao || f?.from?.icao || "UNK";
                const arr =
                    f?.arrival?.icao || f?.arr?.icao || f?.arrivalIcao || f?.arrIcao || f?.to?.icao || "UNK";
                return `${dep}-${arr}`;
            }
            function pilotId(f) {
                return f?.pilot?._id || f?.pilotId || null;
            }
            // L√™ a MELHOR data dispon√≠vel no objeto do voo
            function pickDate(f) {
                // Ordem de prioridade (cobre respostas do /flights/bydate)
                return (
                    f?.depTimeAct ||
                    f?.arrTimeAct ||
                    f?.depTime ||           // alguns payloads usam isso
                    f?.arrTime ||
                    f?.depTimeSched ||
                    f?.arrTimeSched ||
                    f?.date ||              // √†s vezes vem 'date'
                    f?.flightDate ||        // ou 'flightDate'
                    f?.createdAt ||
                    f?.updatedAt ||
                    null
                );
            }
            // Dura√ß√£o em horas (usa qualquer par de campos ou duration pronto)
            function flightHours(f) {
                if (typeof f?.duration === "number") return f.duration;
                if (typeof f?.durationHours === "number") return f.durationHours;

                const cands = [
                    [f?.depTimeAct, f?.arrTimeAct],
                    [f?.depTime, f?.arrTime],
                    [f?.depTimeSched, f?.arrTimeSched]
                ];
                for (const [a, b] of cands) {
                    if (a && b) {
                        const dh = (new Date(b) - new Date(a)) / 36e5;
                        if (Number.isFinite(dh) && dh > 0) return dh;
                    }
                }
                return 0;
            }
            function computeStats(flights) {
                const totalFlights = flights.length;
                const totalHours = flights.reduce((s, f) => s + flightHours(f), 0);
                const pilots = new Set(flights.map(pilotId).filter(Boolean));
                const routes = new Set(flights.map(routeKey));
                return { totalFlights, totalHours, pilotsCount: pilots.size, routesCount: routes.size };
            }

            function animateCounter(id, value, duration = 900, decimals = 0) {
                const el = document.getElementById(id);
                const startTime = performance.now();
                function tick(now) {
                    const p = Math.min((now - startTime) / duration, 1);
                    const cur = p * value;
                    el.textContent = decimals ? cur.toFixed(decimals) : Math.floor(cur);
                    if (p < 1) requestAnimationFrame(tick);
                }
                requestAnimationFrame(tick);
            }

            // ======= CHAMADAS √Ä API BY DATE (30 dias m√°x + pagina√ß√£o skip/count) =======
            async function fetchWindow(start, end) {
                // pagina√ß√£o dentro da janela
                const out = [];
                let skip = 0;
                const count = 100; // m√°ximo suportado
                while (true) {
                    const r = await fetch(PROXY_BYDATE, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            start: new Date(start).toISOString(),
                            end: new Date(end).toISOString(),
                            skip,
                            count,
                            includeDeleted: false
                        })
                    });
                    if (!r.ok) throw new Error(`bydate HTTP ${r.status}`);
                    const data = await r.json();
                    const items = Array.isArray(data?.results) ? data.results : [];
                    out.push(...items);
                    if (items.length < count) break; // acabou a pagina dessa janela
                    skip += count;
                }
                return out;
            }
            async function fetchFlightsForPeriod(start, end) {
                const out = [];
                let skip = 0;
                const count = 100;
                while (true) {
                    const r = await fetch(PROXY_BYDATE, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            start: new Date(start).toISOString(),
                            end: new Date(end).toISOString(),
                            skip,
                            count,
                            includeDeleted: false
                        })
                    });
                    if (!r.ok) throw new Error(`bydate (period) HTTP ${r.status}`);
                    const data = await r.json();
                    const items = Array.isArray(data?.results) ? data.results : [];
                    out.push(...items);
                    if (items.length < count) break;
                    skip += count;
                }
                return out;
            }


            // Varre do voo mais recente at√© o primeiro, em janelas de 30 dias
            async function fetchAllFlightsHistorical() {
                // ...
            }

            // Varre do voo mais recente at√© o primeiro, em janelas de 30 dias
            async function fetchAllFlightsHistorical() {
                const all = [];
                let end = new Date(); // agora (voo mais recente)
                let windowsWithoutFlights = 0;
                const MAX_WINDOWS = 200; // ~16 anos (200 * 30d)
                for (let i = 0; i < MAX_WINDOWS; i++) {
                    const start = new Date(end.getTime() - 29 * DAY_MS); // 30 dias de span (inclusive)
                    const chunk = await fetchWindow(start, end);
                    if (chunk.length === 0) {
                        windowsWithoutFlights++;
                        // se j√° achamos voos e temos 2 janelas sem nada, provavelmente passamos do "primeiro voo"
                        if (all.length > 0 && windowsWithoutFlights >= 2) break;
                    } else {
                        windowsWithoutFlights = 0;
                        all.push(...chunk);
                    }
                    // pr√≥xima janela: volta mais 30 dias (um milissegundo antes para n√£o sobrepor)
                    end = new Date(start.getTime() - 1);
                }
                // ordena por data do voo
                all.sort((a, b) => new Date(pickDate(a)) - new Date(pickDate(b)));
                return all;
            }

            function filterByPeriod(flights, period, fromDate = null, toDate = null) {
                // Constru√≠mos janelas usando datas "locais", mas com inclus√£o do dia final
                let start = null, end = null;

                if (period === "this_month") {
                    const base = new Date();
                    start = new Date(base.getFullYear(), base.getMonth(), 1, 0, 0, 0);
                    end = new Date(base.getFullYear(), base.getMonth() + 1, 1, 0, 0, 0);
                } else if (period === "last_month") {
                    const base = new Date();
                    start = new Date(base.getFullYear(), base.getMonth() - 1, 1, 0, 0, 0);
                    end = new Date(base.getFullYear(), base.getMonth(), 1, 0, 0, 0);
                } else if (period === "this_year") {
                    const y = (new Date()).getFullYear();
                    start = new Date(y, 0, 1, 0, 0, 0);
                    end = new Date(y + 1, 0, 1, 0, 0, 0);
                } else if (period === "custom" && fromDate && toDate) {
                    const s = new Date(fromDate);
                    const t = new Date(toDate);
                    start = new Date(s.getFullYear(), s.getMonth(), s.getDate(), 0, 0, 0);
                    end = new Date(t.getFullYear(), t.getMonth(), t.getDate() + 1, 0, 0, 0); // inclui dia final
                } else if (period === "all_time") {
                    return flights;
                }

                return flights.filter(f => {
                    const dRaw = pickDate(f);
                    if (!dRaw) return false;
                    const d = new Date(dRaw);
                    return d >= start && d < end;
                });
            }


            function labelForPeriod(period, fromDate, toDate) {
                if (period === "this_month") return `Este m√™s (${toDateOnlyString(startOfThisMonth())} ‚Üí hoje)`;
                if (period === "last_month") return `√öltimo m√™s (${toDateOnlyString(startOfLastMonth())} ‚Üí ${toDateOnlyString(endOfLastMonth())})`;
                if (period === "this_year") return `Ano atual (desde ${toDateOnlyString(startOfThisYear())})`;
                if (period === "all_time") return "Hist√≥rico (todos os voos)";
                if (period === "custom" && fromDate && toDate) return `Personalizado (${fromDate} ‚Üí ${toDate})`;
                return "Per√≠odo selecionado";
            }

            // ===== ESTADO =====
            let ALL_FLIGHTS = [];
            let LAST_KNOWN_DATE = null; // data do voo mais recente conhecido

            async function initStats() {
                try {
                    // 1) carrega todo hist√≥rico (primeiro ‚Üí mais recente) usando /bydate
                    ALL_FLIGHTS = await fetchAllFlightsHistorical();
                    if (ALL_FLIGHTS.length > 0) {
                        LAST_KNOWN_DATE = new Date(pickDate(ALL_FLIGHTS[ALL_FLIGHTS.length - 1]));
                    }

                    // 2) Totais (hist√≥rico)
                    const totals = computeStats(ALL_FLIGHTS);
                    animateCounter("totalFlights", totals.totalFlights);
                    animateCounter("flightHours", totals.totalHours, 900, 1);
                    animateCounter("activePilots", totals.pilotsCount);
                    animateCounter("routes", totals.routesCount);

                    // 3) Per√≠odo padr√£o: este m√™s
                    applySelectedPeriod();

                    // 4) Polling para atualizar a cada voo feito (checa √∫ltimos 2 dias a cada 3 min)
                    setInterval(pollRecentFlights, 3 * 60 * 1000);
                } catch (err) {
                    console.error("Erro ao carregar estat√≠sticas:", err);
                }
            }

            async function pollRecentFlights() {
                try {
                    const now = new Date();
                    const start = new Date(now.getTime() - 2 * DAY_MS); // janelinha ‚Äúrecente‚Äù
                    const recent = await fetchWindow(start, now);
                    if (recent.length === 0) return;

                    // Se acharmos voos com data > LAST_KNOWN_DATE, anexamos e reprocessamos
                    let added = 0;
                    for (const f of recent) {
                        const d = new Date(pickDate(f));
                        if (!LAST_KNOWN_DATE || d > LAST_KNOWN_DATE) {
                            ALL_FLIGHTS.push(f);
                            added++;
                            if (!LAST_KNOWN_DATE || d > LAST_KNOWN_DATE) LAST_KNOWN_DATE = d;
                        }
                    }
                    if (added > 0) {
                        // reordena e atualiza os cards
                        ALL_FLIGHTS.sort((a, b) => new Date(pickDate(a)) - new Date(pickDate(b)));
                        const totals = computeStats(ALL_FLIGHTS);
                        animateCounter("totalFlights", totals.totalFlights);
                        animateCounter("flightHours", totals.totalHours, 900, 1);
                        animateCounter("activePilots", totals.pilotsCount);
                        animateCounter("routes", totals.routesCount);
                        applySelectedPeriod();
                    }
                } catch (e) {
                    console.warn("Polling recente falhou:", e);
                }
            }

            async function applySelectedPeriod() {
                const period = document.getElementById("statsPeriod").value;
                const from = document.getElementById("dateFrom").value || null;
                const to = document.getElementById("dateTo").value || null;

                // calcula o intervalo (inclusivo) em hor√°rio local
                let start, end;
                if (period === "this_month") {
                    const base = new Date();
                    start = new Date(base.getFullYear(), base.getMonth(), 1, 0, 0, 0);
                    end = new Date(base.getFullYear(), base.getMonth() + 1, 1, 0, 0, 0); // 1¬∫ do pr√≥ximo m√™s
                } else if (period === "last_month") {
                    const base = new Date();
                    start = new Date(base.getFullYear(), base.getMonth() - 1, 1, 0, 0, 0);
                    end = new Date(base.getFullYear(), base.getMonth(), 1, 0, 0, 0);
                } else if (period === "this_year") {
                    const y = (new Date()).getFullYear();
                    start = new Date(y, 0, 1, 0, 0, 0);
                    end = new Date(y + 1, 0, 1, 0, 0, 0);
                } else if (period === "custom" && from && to) {
                    const s = new Date(from);
                    const t = new Date(to);
                    start = new Date(s.getFullYear(), s.getMonth(), s.getDate(), 0, 0, 0);
                    end = new Date(t.getFullYear(), t.getMonth(), t.getDate() + 1, 0, 0, 0); // inclui o dia final
                } else if (period === "all_time") {
                    // para hist√≥rico, seguimos usando o cache local ALL_FLIGHTS (j√° carregado)
                    const sAll = computeStats(ALL_FLIGHTS);
                    animateCounter("totalFlightsPeriod", sAll.totalFlights);
                    animateCounter("flightHoursPeriod", sAll.totalHours, 900, 1);
                    animateCounter("activePilotsPeriod", sAll.pilotsCount);
                    animateCounter("routesPeriod", sAll.routesCount);
                    const labelAll = labelForPeriod(period, from, to);
                    document.getElementById("periodLabel").innerHTML =
                        `Estat√≠sticas do per√≠odo: <span class="text-sky-700">${labelAll}</span>`;
                    return;
                } else {
                    // fallback
                    start = new Date(0);
                    end = new Date();
                }

                try {
                    // üëâ agora buscamos diretamente NA API s√≥ os voos do per√≠odo
                    const flightsPeriod = await fetchFlightsForPeriod(start, end);
                    const s = computeStats(flightsPeriod);

                    animateCounter("totalFlightsPeriod", s.totalFlights);
                    animateCounter("flightHoursPeriod", s.totalHours, 900, 1);
                    animateCounter("activePilotsPeriod", s.pilotsCount);
                    animateCounter("routesPeriod", s.routesCount);

                    const label = labelForPeriod(period, from, to);
                    document.getElementById("periodLabel").innerHTML =
                        `Estat√≠sticas do per√≠odo: <span class="text-sky-700">${label}</span>`;
                } catch (err) {
                    console.error("Erro per√≠odo /bydate:", err);
                }
            }

            // ===== UI HANDLERS =====
            (function bindUI() {
                const sel = document.getElementById("statsPeriod");
                const customBox = document.getElementById("customRange");
                const applyBtn = document.getElementById("applyPeriod");

                sel.addEventListener("change", () => {
                    if (sel.value === "custom") customBox.classList.remove("hidden");
                    else customBox.classList.add("hidden");
                });

                applyBtn.addEventListener("click", applySelectedPeriod);
            })();

            // Boot
            initStats();
        </script>
    </section>

    

    <!-- Live Map Section -->
    <section id="livemap" class="py-20">
        <div class="container mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold text-slate-800 mb-4">Mapa ao Vivo</h2>
                <p class="text-xl text-slate-600">Acompanhe nossos voos em tempo real</p>
            </div>

            <div class="bg-white rounded-2xl p-8 shadow-lg">

                <div class="rounded-xl overflow-hidden h-96 mb-8">
                    <iframe id="map-iframe" class="w-full h-full border-0"></iframe>
                </div>

                <!-- Card centralizado -->
                <div class="flex justify-center mt-8">
                    <div
                        class="flex flex-col justify-center items-center text-center bg-slate-50 rounded-xl p-6 shadow-md w-48">
                        <div id="ongoingFlights" class="text-3xl font-bold text-sky-600 mb-2">?</div>
                        <p class="text-slate-600">Voos Ativos</p>
                    </div>
                </div>

            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', async () => {
                try {
                    // Carrega iframe do mapa
                    const res = await fetch('/api/map-url');
                    const data = await res.json();
                    document.getElementById('map-iframe').src = data.url;

                    // Atualiza Voos Ativos
                    const flightsRes = await fetch('/api/flights-ongoing');
                    const flightsData = await flightsRes.json();
                    document.getElementById('ongoingFlights').textContent = flightsData.totalResults;
                } catch (err) {
                    console.error('Erro ao carregar dados:', err);
                }
            });
        </script>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-800 text-white py-16">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div
                            class="w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-plane text-white"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold">Wind</h3>
                            <p class="text-slate-400 text-sm">Virtual Airline</p>
                        </div>
                    </div>
                    <p class="text-slate-400 mb-4">Experi√™ncia profissional em avia√ß√£o virtual.</p>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-4">Links R√°pidos</h4>
                    <ul class="space-y-2">
                        <li><a href="../index.html#home"
                                class="text-slate-400 hover:text-sky-400 transition-colors">Home</a></li>
                        <li><a href="../index.html#fleet"
                                class="text-slate-400 hover:text-sky-400 transition-colors">Frota</a></li>
                        <li><a href="../pages/pilots.html"
                                class="text-slate-400 hover:text-sky-400 transition-colors">Pilotos</a></li>
                        <li><a href="../index.html#statistics"
                                class="text-slate-400 hover:text-sky-400 transition-colors">Estat√≠sticas</a></li>
                        <li><a href="../index.html#livemap"
                                class="text-slate-400 hover:text-sky-400 transition-colors">Mapa ao Vivo</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-4">Redes de Voo</h4>
                    <div class="space-y-3">
                        <a href="https://ivao.aero" target="_blank" rel="noopener noreferrer"
                            class="flex items-center space-x-3 text-slate-400 hover:text-sky-400 transition-colors">
                            <i class="fas fa-globe"></i>
                            <span>IVAO Network</span>
                        </a>
                        <a href="https://vatsim.net" target="_blank" rel="noopener noreferrer"
                            class="flex items-center space-x-3 text-slate-400 hover:text-sky-400 transition-colors">
                            <i class="fas fa-satellite-dish"></i>
                            <span>VATSIM Network</span>
                        </a>
                        <a href="https://newsky.app" target="_blank" rel="noopener noreferrer"
                            class="flex items-center space-x-3 text-slate-400 hover:text-sky-400 transition-colors">
                            <i class="fas fa-cloud"></i>
                            <span>Newsky Platform</span>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-4">Redes Sociais</h4>
                    <div class="flex space-x-4">
                        <a href="https://discord.gg/uAa3GJvm" target="_blank" rel="noopener noreferrer"
                            class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-sky-600 transition-colors">
                            <i class="fab fa-discord"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center hover:bg-sky-600 transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-slate-700 pt-8 text-center">
                <p class="text-slate-400">
                    ¬© 2025 Wind Virtual Airline. Todos os direitos reservados.
                    <span class="block mt-2">Desenvolvido por LzGuimar√£es &amp; Pedro Gaioti</span>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="./assets/js/main.js"></script>
</body>

</html>